import{av as B,h as E,ae as V,z as p,J as b,ax as z,p as y,l as C,u as O,s as w,i as P,G as R,g,j as U,L as A,K as M,aC as $,ah as q,al as F,t as L,a9 as N}from"./index.eb43fa57.js";function j(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=B(),e=E();if(V){const n=new ResizeObserver(s=>{i==null||i(s,n),s.length&&(o==="content"?e.value=s[0].contentRect:e.value=s[0].target.getBoundingClientRect())});p(()=>{n.disconnect()}),b(()=>r.el,(s,a)=>{a&&(n.unobserve(a),e.value=void 0),s&&n.observe(s)},{flush:"post"})}return{resizeRef:r,contentRect:z(e)}}const D=y({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),H=y({value:null,disabled:Boolean,selectedClass:String},"group-item");function Q(i,o){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=C("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=O();w(Symbol.for(`${o.description}:id`),n);const s=P(o,null);if(!s){if(!r)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${o.description}`)}const a=R(i,"value"),h=g(()=>!!(s.disabled.value||i.disabled));s.register({id:n,value:a,disabled:h},e),p(()=>{s.unregister(n)});const m=g(()=>s.isSelected(n)),I=g(()=>s.items.value[0].id===n),v=g(()=>s.items.value[s.items.value.length-1].id===n),x=g(()=>m.value&&[s.selectedClass.value,i.selectedClass]);return b(m,t=>{e.emit("group:selected",{value:t})},{flush:"sync"}),{id:n,isSelected:m,isFirst:I,isLast:v,toggle:()=>s.select(n,!m.value),select:t=>s.select(n,t),selectedClass:x,value:a,disabled:h,group:s}}function T(i,o){let r=!1;const e=U([]),n=A(i,"modelValue",[],t=>t==null?[]:S(e,F(t)),t=>{const l=J(e,t);return i.multiple?l:l[0]}),s=C("useGroup");function a(t,l){const d=t,u=Symbol.for(`${o.description}:id`),f=L(u,s==null?void 0:s.vnode).indexOf(l);N(d.value)==null&&(d.value=f,d.useIndexAsValue=!0),f>-1?e.splice(f,0,d):e.push(d)}function h(t){if(r)return;m();const l=e.findIndex(d=>d.id===t);e.splice(l,1)}function m(){const t=e.find(l=>!l.disabled);t&&i.mandatory==="force"&&!n.value.length&&(n.value=[t.id])}M(()=>{m()}),p(()=>{r=!0}),$(()=>{for(let t=0;t<e.length;t++)e[t].useIndexAsValue&&(e[t].value=t)});function I(t,l){const d=e.find(u=>u.id===t);if(!(l&&(d==null?void 0:d.disabled)))if(i.multiple){const u=n.value.slice(),c=u.findIndex(G=>G===t),f=~c;if(l=l!=null?l:!f,f&&i.mandatory&&u.length<=1||!f&&i.max!=null&&u.length+1>i.max)return;c<0&&l?u.push(t):c>=0&&!l&&u.splice(c,1),n.value=u}else{const u=n.value.includes(t);if(i.mandatory&&u)return;n.value=(l!=null?l:!u)?[t]:[]}}function v(t){if(i.multiple,n.value.length){const l=n.value[0],d=e.findIndex(f=>f.id===l);let u=(d+t)%e.length,c=e[u];for(;c.disabled&&u!==d;)u=(u+t)%e.length,c=e[u];if(c.disabled)return;n.value=[e[u].id]}else{const l=e.find(d=>!d.disabled);l&&(n.value=[l.id])}}const x={register:a,unregister:h,selected:n,select:I,disabled:R(i,"disabled"),prev:()=>v(e.length-1),next:()=>v(1),isSelected:t=>n.value.includes(t),selectedClass:g(()=>i.selectedClass),items:g(()=>e),getItemIndex:t=>W(e,t)};return w(o,x),x}function W(i,o){const r=S(i,[o]);return r.length?i.findIndex(e=>e.id===r[0]):-1}function S(i,o){const r=[];return o.forEach(e=>{const n=i.find(a=>q(e,a.value)),s=i[e];(n==null?void 0:n.value)!=null?r.push(n.id):s!=null&&r.push(s.id)}),r}function J(i,o){const r=[];return o.forEach(e=>{const n=i.findIndex(s=>s.id===e);if(~n){const s=i[n];r.push(s.value!=null?s.value:n)}}),r}export{T as a,H as b,Q as c,D as m,j as u};
