import{av as G,g as E,ad as V,y as x,I as b,ar as O,p as y,k as w,t as P,q as C,i as U,E as R,f as g,h as q,K as z,J as A,aw as M,ag as $,ak as F,s as N,a8 as W}from"./index.e25e39ed.js";function _(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=G(),e=E();if(V){const n=new ResizeObserver(s=>{i==null||i(s,n),s.length&&(o==="content"?e.value=s[0].contentRect:e.value=s[0].target.getBoundingClientRect())});x(()=>{n.disconnect()}),b(()=>r.el,(s,a)=>{a&&(n.unobserve(a),e.value=void 0),s&&n.observe(s)},{flush:"post"})}return{resizeRef:r,contentRect:O(e)}}const D=y({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),H=y({value:null,disabled:Boolean,selectedClass:String},"group-item");function Q(i,o){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=w("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=P();C(Symbol.for(`${o.description}:id`),n);const s=U(o,null);if(!s){if(!r)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${o.description}`)}const a=R(i,"value"),h=g(()=>!!(s.disabled.value||i.disabled));s.register({id:n,value:a,disabled:h},e),x(()=>{s.unregister(n)});const m=g(()=>s.isSelected(n)),p=g(()=>s.items.value[0].id===n),v=g(()=>s.items.value[s.items.value.length-1].id===n),I=g(()=>m.value&&[s.selectedClass.value,i.selectedClass]);return b(m,t=>{e.emit("group:selected",{value:t})},{flush:"sync"}),{id:n,isSelected:m,isFirst:p,isLast:v,toggle:()=>s.select(n,!m.value),select:t=>s.select(n,t),selectedClass:I,value:a,disabled:h,group:s}}function T(i,o){let r=!1;const e=q([]),n=z(i,"modelValue",[],t=>t==null?[]:S(e,F(t)),t=>{const u=J(e,t);return i.multiple?u:u[0]}),s=w("useGroup");function a(t,u){const d=t,l=Symbol.for(`${o.description}:id`),f=N(l,s==null?void 0:s.vnode).indexOf(u);W(d.value)==null&&(d.value=f,d.useIndexAsValue=!0),f>-1?e.splice(f,0,d):e.push(d)}function h(t){if(r)return;m();const u=e.findIndex(d=>d.id===t);e.splice(u,1)}function m(){const t=e.find(u=>!u.disabled);t&&i.mandatory==="force"&&!n.value.length&&(n.value=[t.id])}A(()=>{m()}),x(()=>{r=!0}),M(()=>{for(let t=0;t<e.length;t++)e[t].useIndexAsValue&&(e[t].value=t)});function p(t,u){const d=e.find(l=>l.id===t);if(!(u&&(d==null?void 0:d.disabled)))if(i.multiple){const l=n.value.slice(),c=l.findIndex(B=>B===t),f=~c;if(u=u!=null?u:!f,f&&i.mandatory&&l.length<=1||!f&&i.max!=null&&l.length+1>i.max)return;c<0&&u?l.push(t):c>=0&&!u&&l.splice(c,1),n.value=l}else{const l=n.value.includes(t);if(i.mandatory&&l)return;n.value=(u!=null?u:!l)?[t]:[]}}function v(t){if(i.multiple,n.value.length){const u=n.value[0],d=e.findIndex(f=>f.id===u);let l=(d+t)%e.length,c=e[l];for(;c.disabled&&l!==d;)l=(l+t)%e.length,c=e[l];if(c.disabled)return;n.value=[e[l].id]}else{const u=e.find(d=>!d.disabled);u&&(n.value=[u.id])}}const I={register:a,unregister:h,selected:n,select:p,disabled:R(i,"disabled"),prev:()=>v(e.length-1),next:()=>v(1),isSelected:t=>n.value.includes(t),selectedClass:g(()=>i.selectedClass),items:g(()=>e),getItemIndex:t=>k(e,t)};return C(o,I),I}function k(i,o){const r=S(i,[o]);return r.length?i.findIndex(e=>e.id===r[0]):-1}function S(i,o){const r=[];return o.forEach(e=>{const n=i.find(a=>$(e,a.value)),s=i[e];(n==null?void 0:n.value)!=null?r.push(n.id):s!=null&&r.push(s.id)}),r}function J(i,o){const r=[];return o.forEach(e=>{const n=i.findIndex(s=>s.id===e);if(~n){const s=i[n];r.push(s.value!=null?s.value:n)}}),r}export{T as a,H as b,Q as c,D as m,_ as u};
